<app-header></app-header>
<div class="container">
  <div class="intro-section">
  </div>
  <div class="row">
    <div class="col-md-6">
      <div class="oneImage">
        <img [src]="pictureInfo.url" alt="Picture" class="image">
      </div>
    </div>
    <div class="col-md-6">
      <div class="d-flex align-items-center mb-4">
        <img src="data.url" alt="Avatar" class="rounded-circle me-3">
        <div>
          <h6 class="mb-0">Tên tác giả</h6>
          <span class="text-muted small">Số người theo dõi</span>
        </div>
        <button class="btn btn-outline-secondary ms-auto">Theo dõi</button>
      </div>

      <h3>{{ pictureInfo.title }}</h3>

      <p>{{ pictureInfo.imageDescription }}</p>

      <div class="tagname">
        <p *ngFor="let tag of tags">#{{ tag }}</p>
      </div>

      <div class="d-flex align-items-center mb-4">
        <!-- Nút Like -->
        <button [ngClass]="{'btn-danger': !isLiked, 'btn-success': isLiked}" class="btn btn-danger me-3" (click)="likePicture()">
          <lucide-icon name="heart"></lucide-icon> {{ pictureInfo.likes }}
        </button>
        
        <a [href]="pictureInfo.url" download="taixuong.jpg">
          <button class="btn btn-outline-primary">
            <i class="bi bi-download"></i> Tải xuống
          </button>
        </a>
      </div>
      <hr>
      <h5>Nhận xét</h5>
      <!-- Duy -->
      <ul class="list-unstyled mb-4" style="max-height: 300px; overflow-y: auto;">
        <li class="mb-3 d-flex" *ngFor="let comment of comments">
          <img [src]="comment.url" alt="Avatar" class="rounded-circle me-3">
          <div>
            <div><strong>{{comment.username}}:</strong> {{comment.content}}</div>
            <div class="text-muted small">{{comment.create_time}}</div>
          </div>
        </li>
      </ul>

      <!-- Ô nhập liệu và nút gửi comment -->
      <div class="input-group">
        <input type="text" class="form-control" placeholder="Thêm nhận xét..." [(ngModel)]="newComment">
        <button class="btn btn-primary" (click)="postComment()">Gửi</button>
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>